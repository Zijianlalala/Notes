# 进程

进程表示一个可并发执行的程序在其数据集上的一起运行过程。


## 构成

### PCB

作为进程实体的一部分，记录了操作系统所需的，用于描述进程的当前情况以及管理进程运行的全部信息，是操作系统中最重要的记录型数据结构。

- PCB中的信息

	- 进程标识符
	  唯一地标识一个进程。  
	  1）外部 方便用户（进程）对其访问  
	  2）内部 ——系统——

	- 处理机状态
	  处理机的状态信息也称处理机的上下文。主要由各种寄存器中的内容表示。（现场信息）

	- 进程调度信息
	  为调度算法提供依据

	- 进程控制信息

- 组织方式

	- 线性方式
	  将所有PCB组织在一张线性表中，将表的首地址存放在内存当中

	- 链接方式
	  将相同状态的PCB链接成队列

	- 索引方式
	  根据进程状态的不同，建立不同的索引表。比如就绪索引表、阻塞索引表等。

- 作用

	- 作为独立运行基本单位的标志

	- 能实现间断性运行方式

	- 提供进程管理所需要的信息

	- 提供进程调度所需要的信息

	- 实现与其他进程的同步与通信

### 程序段

### 相关数据段

## 特征

### 动态性

### 并发性

### 独立性

### 异步性

### 结构性

## 同步

### 基础知识

- 制约关系

	- 互斥（间接）
	  竞争共享资源

	- 同步（直接）
	  相互合作，具有时序性。

- 临界资源
  一次仅允许一个进程访问的共享资源。

- 临界区
  访问临界资源的那段代码。

	- 锁原语
	  lock(w) {  
	  	while(w == 1);  
	  	w == 1;  
	  }  
	  unlock(w) {  
	  	w = 0;  
	  }

- 同步机制应遵循的规则

	- 空闲让进

	- 忙则等待

	- 有限等待

	- 让权等待

### 实现互斥的软件方法

- 算法一

- 算法二

- 算法三

- 算法四

### 硬件同步机制

- 关中断

- Test&Set

- Swap

### 信号量

- 整型信号量

- 记录型信号量

- AND型信号量

- 信号量集

### 管程

- 为什么引入

- 概念

### 同步经典问题

- 生产消费问题

- 读者写者问题

- 哲学家进餐问题

## 通信

### 低级通信

- 信号量机制

### 高级通信

- 共享存储器系统

- 管道(PIPE)通信系统

- 消息传递系统

- 客户机-服务器系统

### 消息传递通信实现方式

- 直接

- 信箱通信

## 控制

### 进程的创建

- 引起创建的事件

	- 用户登录

	- 作业调度

	- 提供服务

	- 应用请求

- 创建过程

	- 申请空白PCB

	- 为新进程分配其运行所需资源

	- 初始化PCB

	- 将新进程插入就绪队列
	  如果进程就绪队列能够接纳新进程。

### 进程的终止

- 引起终止的原因

	- 正常结束

	- 异常结束

	- 外界干预

### 进程的阻塞与唤醒

- 引起阻塞的原因

	- 向系统请求共享资源失败

	- 等待某种操作完成
	  如I/O操作。

	- 新数据尚未到达
	  生产者消费者问题中，消费者需要等待生产者提供的数据。如没有，则阻塞自己。

	- 等待新任务的到达

### 进程的挂起与激活

- 引起挂起的原因

	- 终端用户的需要

	- 父进程请求

	- 负荷调节的需要

	- 操作系统的需要

## 状态

### 就绪态

- 活动就绪

- 静止就绪

### 执行态

### 阻塞态

正在执行的进程由于发生某事件（I/O请求、申请缓冲区失败）暂时无法继续执行的状态

- 活动阻塞

- 静止阻塞

### 引入挂起操作后新增状态转化

- 

	- 活动就绪<->静止就绪

	- 活动阻塞<->静止阻塞

	- 执行->静止就绪

	- 静止阻塞->静止就绪


# OS内核


## 资源管理功能

### 进程管理

### 存储器管理

### 设备管理

## 支撑功能

### 中断处理

### 时钟管理

### 原语操作

原语在执行过程中不允许被中断。

