# 操作系统笔记
#笔记
# 处理机调度算法
## 作业调度算法
* **先来先服务**（FCFS）
不利于短作业
* **短作业优先**（SJF）
注意区分最短剩余时间优先（抢占式）；平均周转时间最短；长作业饥饿。
* 优先级调度算法（PSA）
* **高响应比优先算法**（HRRN）
P = 响应时间 / 服务时间 = （等待时间+服务时间）/ 服务时间
## 进程调度算法
* 轮转调度算法（RR）
* 优先级调度算法
* **多级反馈队列**
1. 设置多个就绪队列，且每个队列赋予不同优先级，且时间片大小不一
2. 每个队列内采用FCFS算法，如果不在规定时间片内完成则转入下一队列，在第n队列中采用RR方式
## 实时调度算法
*画gantt图*
* 最早截止时间优先（EDF）
* 最低松弛度优先（LLF）
松弛度=必须完成时间—运行时间—当前时间
# 死锁
## 造成死锁的原因
* 资源竞争
1. 竞争不可抢占性资源（独占类）
2. 竞争可消耗性资源
* 进程推荐顺序不当
## 产生死锁的必要条件
1. 互斥条件
2. 请求和保持条件
3. 不可抢占条件
4. 循环等待条件
## 处理死锁的方法
1. 预防死锁
* 破坏“请求和保持”：静态/动态资源分配
* 破坏“不可抢占”：已占有，不能得到满足，释放所有占有资源
* 破坏“循环等待”：有序资源分配法
2. 避免死锁
**银行家算法**（动态）
安全性算法：Work[i]&Finish[i]
3. 检测和解除死锁
资源分配图&死锁定理：资源分配图不可完全简化
# 内存存储管理方式
## 连续分配
1. 单一连续分配
2. 固定分区分配
3. 可变分区分配
4. 动态重定位分区分配
内存紧缩技术：减少外碎片
分区的存储保护
* 界限寄存器
* 存储保护键
## 离散分配
1. 分页存储管理方式
页表：实现从页号到物理块号的地址映射
地址变化机构
有效访问内存时间：T=a*(ß+t)+(1-a)*(ß+2t)
2. 分段存储管理方式
3. 段页式存储管理方式
# 空闲空间管理
1. 空闲表法&空闲链表法
空闲链表法：
* 空闲盘块链表
* 空闲盘区链表 不适于离散管理
3. 位示图法
b=n*i+j
i=b/n
j=b mol n
3. 成组链接法（Unix）
# 文件共享
## 硬链接（索引结点）
* 只能文件链接，不能目录链接
* 只能在同一文件系统范围内进行，不能跨文件系统
* 删除文件时，如果还有其他链接链至该文件，则该文件不能被删除
## 软链接（符号链）
* 使用范围灵活性大
* 允许目录链接，允许跨文件系统链接
# 线程
## 概念
进程中的一个运行实体，是CPU的调度单位，有时将线程称为轻量级进程。
## 引入目的
应用的需要；开销的考虑；性能的提升
## 线程与进程的区别
* 调度：进程是**资源分配**单位 线程是**CPU执行**单位
* 并发性：进程之间可以并发，且一个进程的多个线程之间亦可以并发
* 拥有资源：进程间相互独立，同一进程的各线程间共享资源
* 系统开销：线程上下文切换比进程上下文切换要快得多
## 线程的种类
* 用户级线程
* 核心级线程
* 混合线程
# 操作系统的基本特征
* 并发
* 共享
* 虚拟
* 异步
